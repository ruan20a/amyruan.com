/*!CK:711510421!*//*1390790333,178191153*/

if (self.CavalryLogger) { CavalryLogger.start_js(["aDESh"]); }

__d("MercuryAttachments.react",["MercuryAttachmentRenderer","DOM","MercuryResizableMixin.react","ReactPropTypes","React","arraySort","cx"],function(a,b,c,d,e,f){var g=b('MercuryAttachmentRenderer'),h=b('DOM'),i=b('MercuryResizableMixin.react'),j=b('ReactPropTypes'),k=b('React'),l=b('arraySort'),m=b('cx'),n=176,o=4,p=k.createClass({displayName:'MercuryAttachments',propTypes:{message:j.object.isRequired,attachments:j.array.isRequired,isChat:j.bool},mixins:[i],getDefaultProps:function(){return {isChat:false};},componentDidMount:function(){this.componentDidUpdate();},componentDidUpdate:function(){this.renderAttachments();},render:function(){var q=this.props.attachments.filter(g.isPhotoAttachment).length>0;return this.transferPropsTo(k.DOM.div({className:(("_5h9y")+(q?' '+"_zl6":''))}));},renderAttachments:function(){var q=this.getDOMNode();h.empty(q);var r=this.props.message,s=l(this.props.attachments,g.booleanLexicographicComparator([g.isPhotoAttachment,g.isShareAttachment,g.isFileAttachment,g.isErrorAttachment])),t=g.renderPhotoAttachments(s.filter(g.isPhotoAttachment),r,n,o);t&&h.appendContent(q,t);for(var u=0;u<s.length;u++){var v=s[u];if(g.isPhotoAttachment(v))continue;var w=g.renderAttachment(this.props.isChat,v,r);w.error&&h.appendContent(q,w.error);w.content&&h.appendContent(q,w.content);}this.triggerResizeMaybe();}});e.exports=p;});